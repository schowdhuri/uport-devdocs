webpackJsonp([0xcc48bfb0d2cc],{1147:function(e,t){e.exports={data:{allMarkdownRemark:{totalCount:13,edges:[{node:{fields:{slug:"/messages/claims"},headings:[{value:"Issuer Claims",depth:1},{value:"Self Claims",depth:2},{value:"Embedded Format",depth:3},{value:"IPLD Format",depth:3},{value:"Parameters",depth:3},{value:"Verified Claims about Issuer",depth:2}],excerpt:"Issuer Claims The issuer of a message is the signer of the request. The issuer can present claims about themselves. This either as…",timeToRead:4,frontmatter:{title:"Issuer Claims",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/claims.md"}}},{node:{fields:{slug:"/messages/encryption"},headings:[{value:"Message Encryption",depth:1},{value:"Encryption Public Key resolution",depth:2},{value:"Request/Response resolution",depth:2},{value:"JOSE JWK Standards",depth:3},{value:"Encrypting the request",depth:2},{value:"Decrypting the request",depth:2},{value:"Padding",depth:2},{value:"Legacy Encryption of the request",depth:2},{value:"Encoding the encrypted data",depth:3}],excerpt:"Message Encryption Some  message transports  are not directly secure and require encryption of the message. We currently use the  box public…",timeToRead:5,frontmatter:{title:"Message Encryption",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/encryption.md"}}},{node:{fields:{slug:"/messages/index"},headings:[{value:"Off-chain Messages",depth:1},{value:"JSON Web Token",depth:2},{value:"Requirements",depth:3},{value:"JOSE Header",depth:4},{value:"Attributes",depth:4},{value:"Signature Verification",depth:3},{value:"Message Encryption",depth:3},{value:"Unsigned Requests (Deprecated)",depth:2},{value:"Standard Unsigned Parameters",depth:3},{value:"Message types",depth:2}],excerpt:"Off-chain Messages Most request and responses are performed privately off-chain between the different parties to a flow. JSON Web Token Most…",timeToRead:5,frontmatter:{title:"Off-chain Messages",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/index.md"}}},{node:{fields:{slug:"/messages/personalsignreq"},headings:[{value:"Personal Sign Request",depth:1},{value:"Attributes",depth:4}],excerpt:"Personal Sign Request The Personal Sign Request is a message created by a client app and sent to a user's mobile app, which contains a…",timeToRead:2,frontmatter:{title:"Personal Sign Request",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/personalsignreq.md"}}},{node:{fields:{slug:"/messages/personalsignresp"},headings:[{value:"Personal Sign Response",depth:1},{value:"Attributes",depth:1}],excerpt:"Personal Sign Response A personal sign response is a JWT containing within it a hex string of data, and an object representing the signature…",timeToRead:2,frontmatter:{title:"Sign Typed Data Response",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/signtypeddataresp.md"}}},{node:{fields:{slug:"/messages/privatechain"},headings:[{value:"Private Chain Provisioning Message",depth:1},{value:"Attributes",depth:2}],excerpt:"Private Chain Provisioning Message A Private Chain Provisioning Message can be used for adding an account created on a private Ethereum…",timeToRead:3,frontmatter:{title:"Private Chain Provisioning",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/privatechain.md"}}},{node:{fields:{slug:"/messages/shareresp"},headings:[{value:"Selective Disclosure Response",depth:1},{value:"Attributes",depth:4}],excerpt:"Selective Disclosure Response The Selective Disclosure Response is created by a users mobile app as a response to a  Selective Disclosure…",timeToRead:2,frontmatter:{title:"Off-chain Messages",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/shareresp.md"}}},{node:{fields:{slug:"/messages/verification"},headings:[{value:"Verified Claims",depth:1},{value:"Attributes",depth:2},{value:"Claims Best Practices",depth:2},{value:"Use atomic claims",depth:3},{value:"Bundling multiple claims as one",depth:3},{value:"Claim Taxonomy",depth:3}],excerpt:"Verified Claims A Verified Claim is a statement issued by a third party verifying claims about an identity  Verified Claim Flow . Verified…",timeToRead:2,frontmatter:{title:"Verified Claims",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/verification.md"}}},{node:{fields:{slug:"/messages/verificationreq"},headings:[{value:"Verified Claim Request",depth:1},{value:"Attributes",depth:4}],excerpt:"Verified Claim Request The Verified Claim Request is created by a client app and sent to a user's mobile app during the  Verified Claim…",timeToRead:3,frontmatter:{title:"Verification Claim Request",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/verificationreq.md"}}},{node:{fields:{slug:"/messages/sharereq"},headings:[{value:"Selective Disclosure Request",depth:1},{value:"Attributes",depth:4},{value:"Claim Types",depth:4},{value:"Unsigned Requests (Deprecated)",depth:2}],excerpt:"Selective Disclosure Request The Selective Disclosure Request is created by a client app and sent to a user's mobile app during the…",timeToRead:4,frontmatter:{title:"Selective Disclosure Request",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/sharereq.md"}}},{node:{fields:{slug:"/messages/signtypeddataresp"},headings:[{value:"Signed Typed Data Response",depth:1},{value:"Attributes",depth:1}],excerpt:"Signed Typed Data Response A signed typed data response is a message created by a client app which includes a structured object that…",timeToRead:3,frontmatter:{title:"Sign Typed Data Response",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/signtypeddataresp.md"}}},{node:{fields:{slug:"/messages/tx"},headings:[{value:"Ethereum Transaction Request",depth:1},{value:"Signed Transaction Request",depth:2},{value:"Attributes",depth:3},{value:"ERC 67 Unsigned Transaction Request",depth:2},{value:"Attributes",depth:3},{value:"Addresses and Network selection",depth:2},{value:"Transaction Request Validity",depth:2},{value:"ETH Value Transfer",depth:3},{value:"ETH Value Transfer",depth:3},{value:"Ethereum Smart Contract creation",depth:3},{value:"Client Callback",depth:2}],excerpt:"Ethereum Transaction Request This message allows an application to request that a client signs an ethereum transaction. The Ethereum…",timeToRead:8,frontmatter:{title:"Ethereum Transaction Request",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/tx.md"}}},{node:{fields:{slug:"/messages/signtypeddatareq"},headings:[{value:"Sign Typed Data Request",depth:1},{value:"Attributes",depth:4}],excerpt:"Sign Typed Data Request The Sign Typed Data Request is a message created by a client app and sent to a user's mobile app, which contains a…",timeToRead:2,frontmatter:{title:"Sign Typed Data Request",category:"messages",type:"reference",index:null,source:"https://github.com/uport-project/specs/blob/develop/messages/signtypeddatareq.md"}}}]},postBySlug:{htmlAst:{type:"root",children:[{type:"element",tagName:"h1",properties:{id:"message-encryption"},children:[{type:"element",tagName:"a",properties:{href:"#message-encryption",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Message Encryption"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Some "},{type:"element",tagName:"a",properties:{href:"/transports/index"},children:[{type:"text",value:"message transports"}]},{type:"text",value:" are not directly secure and require encryption of the message. We currently use the "},{type:"element",tagName:"a",properties:{href:"http://nacl.cr.yp.to/box.html"},children:[{type:"text",value:"box public key auhtenticated encryption algorithm"}]},{type:"text",value:" and thus both parties need a Curve25519 public key to be able to create a secure session."}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{id:"encryption-public-key-resolution"},children:[{type:"element",tagName:"a",properties:{href:"#encryption-public-key-resolution",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Encryption Public Key resolution"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"A public key can either be published as part of the "},{type:"element",tagName:"a",properties:{href:"/pki/diddocument"},children:[{type:"text",value:"DID document"}]},{type:"text",value:". In this case it looks for a "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"publicKey"}]},{type:"text",value:" of type "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Curve25519EncryptionPublicKey"}]},{type:"text",value:" in the DID document. eg."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'@context'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'https://w3id.org/did/v1'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'id'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'did:uport:2nQtiQG6Cgm1GYTBaaKAgr76uY7iSexUkqX'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'publicKey'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"..."}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'id'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'did:uport:2nQtiQG6Cgm1GYTBaaKAgr76uY7iSexUkqX#keys-2'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'type'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'Curve25519EncryptionPublicKey'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'owner'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'did:uport:2nQtiQG6Cgm1GYTBaaKAgr76uY7iSexUkqX'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'publicKeyBase64'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'QCFPBLm5pwmuTOu+haxv0+Vpmr6Rrz/DEEvbcjktQnQ='"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"..."}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Currently the public key must be base64 encoded in the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"publicKeyBase64"}]},{type:"text",value:" attribute."}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{id:"requestresponse-resolution"},children:[{type:"element",tagName:"a",properties:{href:"#requestresponse-resolution",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Request/Response resolution"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"If your DID method does not include an encryption key it can also be included as part of the initiation of a session setup between requesting and disclosing parties as part of the "},{type:"element",tagName:"a",properties:{href:"/flows/selectivedisclosure"},children:[{type:"text",value:"Selective Disclosure Flow"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"If the requesting party does not include the encryption public key in the DID document they can include a "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"boxPub"}]},{type:"text",value:" attribute as part of the "},{type:"element",tagName:"a",properties:{href:"/messages/sharereq"},children:[{type:"text",value:"Selective Disclosure Request"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"If the disclosing party does not include the encryption public key in the DID document they can also include a "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"boxPub"}]},{type:"text",value:" attribute as part of the "},{type:"element",tagName:"a",properties:{href:"/messages/shareresp"},children:[{type:"text",value:"Selective Disclosure Response"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{id:"jose-jwk-standards"},children:[{type:"element",tagName:"a",properties:{href:"#jose-jwk-standards",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"JOSE JWK Standards"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"We currently do not support the JOSE JWT standards including the "},{type:"element",tagName:"a",properties:{href:"https://tools.ietf.org/html/draft-ietf-jose-cfrg-curves-06"},children:[{type:"text",value:"JOSE CFRG ECDH RFC"}]},{type:"text",value:". This is primarily for reasons of compactness. Our responses have to be limited in size to be able to comfortably fit in a QR code."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"We plan to support these in the future."}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{id:"encrypting-the-request"},children:[{type:"element",tagName:"a",properties:{href:"#encrypting-the-request",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Encrypting the request"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"We use the "},{type:"element",tagName:"a",properties:{href:"https://github.com/ethereum/EIPs/pull/1098"},children:[{type:"text",value:"ERC 1098"}]},{type:"text",value:" encryption method which uses an ephemeral sending key and the "},{type:"element",tagName:"a",properties:{href:"https://github.com/dchest/tweetnacl-js/blob/master/README.md#public-key-authenticated-encryption-box"},children:[{type:"text",value:"box"}]},{type:"text",value:" method from "},{type:"element",tagName:"a",properties:{href:"https://tweetnacl.js.org/"},children:[{type:"text",value:"tweet-nacl"}]},{type:"text",value:". This allows the recipient to decrypt a message without having to resolve the public key of the sender."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"The following method is used:"}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Create the signed "},{type:"element",tagName:"a",properties:{href:"/messages/index"},children:[{type:"text",value:"JWT payload like normal"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"JWT is padded with "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"\\0"}]},{type:"text",value:'s to the nearest multiple of 64 bytes (see "padding" below)'}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Create an ephemeral keypair using "},{type:"element",tagName:"a",properties:{href:"https://github.com/dchest/tweetnacl-js/blob/master/README.md#naclboxkeypair"},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nacl.box.keyPair()"}]}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Create a random 24 bytes "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nonce"}]},{type:"text",value:" using "},{type:"element",tagName:"a",properties:{href:"https://github.com/dchest/tweetnacl-js/blob/master/README.md#naclrandombyteslength"},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nacl.randomBytes(nacl.box.nonceLength)"}]}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"encrypt the resulting JWT using the "},{type:"element",tagName:"a",properties:{href:"https://github.com/dchest/tweetnacl-js/blob/master/README.md#naclboxmessage-nonce-theirpublickey-mysecretkey"},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nacl.box(message, nonce, recipient publicKey, ephemeralKeyPair.secretKey)"}]}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Combine the base64 encoded versions of the above "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nonce"}]},{type:"text",value:", "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"ephemPublicKey"}]},{type:"text",value:" and "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"ciphertext"}]},{type:"text",value:" values together with the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"version"}]},{type:"text",value:" of "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"x25519-xsalsa20-poly1305"}]},{type:"text",value:" in a JSON payload."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:" version"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'x25519-xsalsa20-poly1305'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  nonce"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'1dvWO7uOnBnO7iNDJ9kO9pTasLuKNlej'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  ephemPublicKey"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'FBH1/pAEHOOW14Lu3FWkgV3qOEcuL78Zy+qW1RwzMXQ='"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  ciphertext"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'f8kBcl/NCyf3sybfbwAKk/np2Bzt9lRVkZejr6uh5FgnNlH/ic62DZzy'"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{id:"decrypting-the-request"},children:[{type:"element",tagName:"a",properties:{href:"#decrypting-the-request",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Decrypting the request"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"You need to know the recipients secretKey."}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Check that the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"version"}]},{type:"text",value:" field is "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"x25519-xsalsa20-poly1305"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Decode the base64 encoded "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nonce"}]},{type:"text",value:", "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"ephemPublicKey"}]},{type:"text",value:" and "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"ciphertext"}]},{type:"text",value:" attributes"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Decrypt it message using "},{type:"element",tagName:"a",properties:{href:"https://github.com/dchest/tweetnacl-js/blob/master/README.md#naclboxopenbox-nonce-theirpublickey-mysecretkey"},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"nacl.box.open(ciphertext, nonce, ephemPublicKey, recieverEncryptionPrivateKey)"}]}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Strip any trailing "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"\\0"}]},{type:"text",value:" from the payload"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Decode JWT as normal"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{id:"padding"},children:[{type:"element",tagName:"a",properties:{href:"#padding",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Padding"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"To avoid leaking information about the specific size of the payload, we need to pad the payload to the nearest multiple of 64 bytes. The padding should be done with "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"\\0"}]},{type:"text",value:" bytes."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"After decrypting any trailing "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"\\0"}]},{type:"text",value:"s  are removed before passing the result to the JWT verifier."}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{id:"legacy-encryption-of-the-request"},children:[{type:"element",tagName:"a",properties:{href:"#legacy-encryption-of-the-request",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Legacy Encryption of the request"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"This method is used in early versions of uPort and is only documented here for historical reasons."
}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"To encrypt the request "},{type:"element",tagName:"a",properties:{href:"http://nacl.cr.yp.to/box.html"},children:[{type:"text",value:"NACL Box Public Key Encryption"}]},{type:"text",value:" is used. An ephemeral key is generated in order to encrypt the data to the public key of the user."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"The "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"encryptionPublicKey"}]},{type:"text",value:" is encoded as a Base64 string. The decoded public key "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"upk"}]},{type:"text",value:" should be 32 bytes.\nThe ephemeral key pair is generated using the NACL library. Both secret key "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"eSK"}]},{type:"text",value:" and the public key "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"epk"}]},{type:"text",value:" has to be 32 bytes.\nThe nonce "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"n"}]},{type:"text",value:" should be randomly generated and of length 24."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Using the data above a NACL Box can be used to encrypt the message: "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"c = crypto_box(m, n, upk, eSK)"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{id:"encoding-the-encrypted-data"},children:[{type:"element",tagName:"a",properties:{href:"#encoding-the-encrypted-data",ariaHidden:!0,className:["anchor"]},children:[{type:"element",tagName:"svg",properties:{ariaHidden:"true",height:16,version:"1.1",viewBox:"0 0 16 16",width:16},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},children:[]}]}]},{type:"text",value:"Encoding the encrypted data"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"In order for the mobile app to be able to decrypt the ciphertext it also needs "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"epk"}]},{type:"text",value:" and "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"n"}]},{type:"text",value:". This needs to be formatted in a specific way. Most importantly the parameters need to be encoded as Base64 strings."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Simply create a JSON object and encode it as a string: "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:'{"from":"<epk encoded as Base64>","nonce":"<n encoded as Base64>","ciphertext":"<c encoded as Base64>"}'}]},{type:"text",value:". This string is now our "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"encrypted message"}]},{type:"text",value:"."}]}],data:{quirksMode:!1}},timeToRead:5,excerpt:"Message Encryption Some  message transports  are not directly secure and require encryption of the message. We currently use the  box public…",headings:[{value:"Message Encryption",depth:1},{value:"Encryption Public Key resolution",depth:2},{value:"Request/Response resolution",depth:2},{value:"JOSE JWK Standards",depth:3},{value:"Encrypting the request",depth:2},{value:"Decrypting the request",depth:2},{value:"Padding",depth:2},{value:"Legacy Encryption of the request",depth:2},{value:"Encoding the encrypted data",depth:3}],frontmatter:{title:"Message Encryption",category:"messages",type:"reference",source:"https://github.com/uport-project/specs/blob/develop/messages/encryption.md"},fields:{slug:"/messages/encryption"}},navTypes:{edges:[{node:{fields:{slug:"/readme"},headings:[{value:"uPort Specs",depth:1},{value:"Identities",depth:2},{value:"Identities created using the uPort Mobile App",depth:3},{value:"Request Flows",depth:2},{value:"More about request flows",depth:3},{value:"Request and Response Transports",depth:2},{value:"Request/Response Transports",depth:3},{value:"Off-chain Messages",depth:2},{value:"More about Off-chain Messages",depth:3},{value:"On-chain Transactions",depth:2},{value:"More about Signing Ethereum transactions",depth:3},{value:"uPort PKI",depth:2},{value:"More about the uPort PKI",depth:3}],frontmatter:{category:"specs",type:"reference",index:3}}},{node:{fields:{slug:"/credentials/createverification"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Output:",depth:5},{value:"Boilerplate",depth:3},{value:"Create and Issue Verifications",depth:2},{value:"Running the Service",depth:2}],frontmatter:{category:"uport-credentials",type:"tutorial",index:3}}},{node:{fields:{slug:"/credentials/index"},headings:[{value:"Server-side Login Solution",depth:1},{value:"The Login Solution for Your Server-side dApp",depth:2}],frontmatter:{category:"login",type:"orientation",index:0}}},{node:{fields:{slug:"/credentials/login"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Output:",depth:5},{value:"Boilerplate",depth:3},{value:"Disclosure Request Login Service",depth:2},{value:"Selective Disclosure Request",depth:4},{value:"Disclosure Response Authentication Service",depth:2},{value:"Selective Disclosure Response",depth:4},{value:"Running the Service",depth:2}],frontmatter:{category:"uport-credentials",type:"guide",index:2}}},{node:{fields:{slug:"/credentials/requestverification"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Output:",depth:5},{value:"Boilerplate",depth:3},{value:"Request Verifications",depth:2},{value:"Running the Service",depth:2}],frontmatter:{category:"uport-credentials",type:"tutorial",index:4}}},{node:{fields:{slug:"/credentials/transactions"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Output:",depth:5},{value:"Boilerplate",depth:3},{value:"Create Transaction Request",depth:2},{value:"Running the Service",depth:2}],frontmatter:{category:"uport-credentials",type:"tutorial",index:5}}},{node:{fields:{slug:"/connect/login"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Boilerplate",depth:3},{value:"Create Authentication Functionality",depth:2},{value:"Run the example",depth:2}],frontmatter:{category:"uport-connect",type:"tutorial",index:2}}},{node:{fields:{slug:"/connect/requestverification"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Boilerplate",depth:3},{value:"Request Verifications",depth:2},{value:"Run the example",depth:2}],frontmatter:{category:"uport-connect",type:"tutorial",index:4}}},{node:{fields:{slug:"/connect/sendverification"},headings:[{value:"Introduction",depth:1},{value:"Setup",depth:2},{value:"Boilerplate",depth:3},{value:"Create and Send a Verification",depth:2},{value:"Run the example",depth:2}],frontmatter:{category:"uport-connect",type:"tutorial",index:3}}},{node:{fields:{slug:"/ethr-did-registry/readme"},headings:[{value:"Ethereum DID Registry",depth:1},{value:"Contract Deployments",depth:2},{value:"Using the Registry",depth:2},{value:"On-chain vs. Off-chain",depth:2},{value:"Identity Identifier",depth:2},{value:"Identity Ownership",depth:2},{value:"Looking up Identity Ownership",depth:3},{value:"Changing Identity Ownership",depth:3},{value:"Delegates",depth:2},{value:"Delegate Types",depth:3},{value:"Validity",depth:3},{value:"Looking up a Delegate",depth:3},{value:"Adding a Delegate",depth:3},{value:"Revoking a Delegate",depth:3},{value:"Enumerating Delegates Off-chain",depth:3},{value:"Adding Off-chain Attributes",depth:2},{value:"Setting Attributes",depth:3},{value:"Revoking Attributes",depth:3},{value:"Reading attributes",depth:3},{value:"Enumerating Linked Identity Events",depth:2},{value:"Assemble a DID Document",depth:2},{value:"Deploy contract",depth:2},{value:"Testing the Contracts",depth:2}],frontmatter:{category:"ethr-did-registry",type:"reference",index:0}}},{node:{fields:{slug:"/ethr-did-resolver/readme"},headings:[{value:"ethr DID Resolver",depth:1},{value:"DID method",depth:2},{value:"DID Document",depth:2},{value:"Building a DID document",depth:2},{value:"Owner Address",depth:3},{value:"Enumerating contract events for an identity",depth:3},{value:"Delegate Keys",depth:3},{value:"Non Ethereum Attributes",depth:3},{value:"Public Keys",depth:3},{value:"Hex encoded Secp256k1 Verification Key",depth:4},{value:"Base64 encoded Ed25519 Verification Key",depth:4},{value:"Service Endpoints",depth:3},{value:"Hex encoded Secp256k1 Verification Key",depth:4},{value:"Resolving a DID document",depth:2}],frontmatter:{category:"ethr-did-resolver",type:"reference",index:7}}},{node:{fields:{slug:"/guides/attestcredentials"},headings:[{value:"Attesting Credentials",depth:1},{value:"Requesting the user to sign a credential",depth:2},{value:"Relaying an existing credential",depth:2},{value:"Signing a credential about the user in app",depth:2}],frontmatter:{category:"uport-connect",type:"guide",index:null}}},{node:{fields:{slug:"/guides/gettingstarted"},headings:[{value:"Get Started",depth:1},{value:"Get the uPort App",depth:2},{value:"Get an Application ID",depth:2},{value:"Buidl",depth:2}],frontmatter:{category:"uport-connect",type:"guide",index:null}}},{node:{fields:{slug:"/guides/reactuporttruffle"},headings:[{value:"React-uport Truffle box",depth:1},{value:"Setup React Truffle Box",depth:2},{value:"Create the necessary uport-connect objects",depth:2},{value:"Request a user's information",depth:2},{value:"Create an Attestation",depth:2},{value:"Wrapping it up",depth:2}],frontmatter:{category:"truffle",type:"tutorial",index:0}}},{node:{fields:{slug:"/guides/requestcredentials"},headings:[{value:"Requesting Credentials",depth:1},{value:"Authenticating a user",depth:2},{value:"Requesting specific credentials",depth:2},{value:"Enabling push notifications",depth:2}],frontmatter:{category:"uport-connect",type:"guide",index:null}}},{node:{fields:{slug:"/guides/signtransactions"},headings:[{value:"Ethereum Transactions and Contract Calls",depth:1},{value:"uPort Requests",depth:2},{value:"Using with a Provider (Web3)",depth:2}],frontmatter:{category:"uport-connect",type:"guide",index:null}}},{node:{fields:{slug:"/messages/claims"},headings:[{value:"Issuer Claims",depth:1},{value:"Self Claims",depth:2},{value:"Embedded Format",depth:3},{value:"IPLD Format",depth:3},{value:"Parameters",depth:3},{value:"Verified Claims about Issuer",depth:2}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/encryption"},headings:[{value:"Message Encryption",depth:1},{value:"Encryption Public Key resolution",depth:2},{value:"Request/Response resolution",depth:2},{value:"JOSE JWK Standards",depth:3},{value:"Encrypting the request",depth:2},{value:"Decrypting the request",depth:2},{value:"Padding",depth:2},{value:"Legacy Encryption of the request",depth:2},{value:"Encoding the encrypted data",depth:3}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/index"},headings:[{value:"Off-chain Messages",depth:1},{value:"JSON Web Token",depth:2},{value:"Requirements",depth:3},{value:"JOSE Header",depth:4},{value:"Attributes",depth:4},{value:"Signature Verification",depth:3},{value:"Message Encryption",depth:3},{value:"Unsigned Requests (Deprecated)",depth:2},{value:"Standard Unsigned Parameters",depth:3},{value:"Message types",depth:2}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/personalsignreq"},headings:[{value:"Personal Sign Request",depth:1},{value:"Attributes",depth:4}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/personalsignresp"},headings:[{value:"Personal Sign Response",depth:1},{value:"Attributes",depth:1}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/privatechain"},headings:[{value:"Private Chain Provisioning Message",depth:1},{value:"Attributes",depth:2}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/shareresp"},headings:[{value:"Selective Disclosure Response",depth:1},{value:"Attributes",depth:4}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/verification"},headings:[{value:"Verified Claims",depth:1},{value:"Attributes",depth:2},{value:"Claims Best Practices",depth:2},{value:"Use atomic claims",depth:3},{value:"Bundling multiple claims as one",depth:3},{value:"Claim Taxonomy",depth:3}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/verificationreq"},headings:[{value:"Verified Claim Request",depth:1},{value:"Attributes",depth:4}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/sharereq"},headings:[{value:"Selective Disclosure Request",depth:1},{value:"Attributes",depth:4},{value:"Claim Types",depth:4},{value:"Unsigned Requests (Deprecated)",depth:2}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/flows/index"},headings:[{value:"Uport Request Flows",depth:1},{value:"Unified Message Request Flow",depth:2},{value:"Specific Application flows",depth:2},{value:"Errors",depth:2}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/flows/personalsign"},headings:[{value:"Personal Signature Request Flow",depth:1},{value:"Endpoint",depth:2},{value:"Send Request",depth:2},{value:"Client Callback",depth:2},{value:"Successful Response",depth:3},{value:"Errors",depth:3}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/flows/privatechain"},headings:[{value:"Private Chain Provisioning Flow",depth:1},{value:"Requirements",depth:2},{value:"Provisioning Methodology",depth:2},{value:"Endpoint",depth:2},{value:"Client Callback",depth:2},{value:"Successful Response",depth:3},{value:"Errors",depth:3}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/flows/selectivedisclosure"},headings:[{value:"Selective Disclosure Flow",depth:1},{value:"Endpoint",depth:2},{value:"Send Request",depth:2},{value:"Deprecated Flows",depth:3},{value:"Client Callback",depth:2},{value:"Successful Response",depth:3},{value:"Errors",depth:3}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/flows/tx"},headings:[{value:"Ethereum Transaction Flow",depth:1},{value:"Endpoint",depth:2},{value:"Send Request",depth:2},{value:"Client Callback",depth:2},{value:"Successful Response",depth:3},{value:"Errors",depth:3}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/flows/verification"},headings:[{value:"Send Verification Flow",depth:1},{value:"Endpoint",depth:2},{value:"Send Verifications",depth:2},{value:"Deprecated Flows",depth:3},{value:"Client Callback",depth:2},{value:"Successful Response",depth:3}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/flows/verificationreq"},headings:[{value:"Verified Claim Request Flow",depth:1},{value:"Endpoint",depth:2},{value:"Send Request",depth:2},{value:"Client Callback",depth:2},{value:"Successful Response",depth:3},{value:"Errors",depth:3}],frontmatter:{category:"flows",type:"reference",index:null}}},{node:{fields:{slug:"/overview/attestation"},headings:[{value:"Issue Verifications",depth:1},{value:"Contribute to the Decentralized World",depth:2}],frontmatter:{category:"attestation",type:"orientation",index:4}}},{node:{fields:{slug:"/overview/glossary"},headings:[{value:"Terms and Definitions",depth:3}],frontmatter:{category:"glossary",type:"overview",index:2}}},{node:{fields:{slug:"/overview/index"},headings:[{value:"Helping You Build User Centric Apps on Blockchains",depth:2},{value:"Onboarding a user to your dApp",depth:3},{value:"As a Developer You Want Users Who Are Active and Come Back to Your dApp.",depth:5},{value:"What is an Identity?",depth:2},{value:"Help Your User Build Their Identity",depth:3},{value:"But All I Really Need is an Ethereum Address!",depth:3},{value:"Asking The User to do Something",depth:3},{value:"Reasons for Asking for Identity Data",depth:3},{value:"The Problem With Centralized Identity Solutions",depth:3},{value:"Signing Ethereum Transactions",depth:2},{value:"Off-chain Data",depth:2},{value:"uPort Protocols and Libraries",depth:2},{value:"For Fully Decentralized Apps (dApps)",depth:3},{value:"For Decentralized Mobile Applications",depth:3},{value:"For Hybrid Applications",depth:3}],frontmatter:{category:"about",type:"overview",index:0}}},{node:{fields:{slug:"/overview/login"},headings:[{value:"Login Solutions",depth:1},{value:"Frictionless Login Across the Web",depth:2}],frontmatter:{category:"login",type:"orientation",index:3}}},{node:{fields:{slug:"/overview/releases"},headings:[{value:"Releases",depth:1},{value:"Uport Connect",depth:2},{value:"What's new in 1.0?",depth:3},{value:" -> ",depth:4},{value:"No public keys in the browser",depth:4},{value:" Persistance",depth:4},{value:"New functions ",depth:4},{value:", ",depth:4},{value:" -> ",depth:4},{value:" -> ",depth:4},{value:" -> ",depth:4},{value:" -> ",depth:4},{value:" -> ",depth:4},{value:" removed",depth:4},{value:"What's New in Version 0.7.8 (minor release)",depth:3},{value:"Steps to migrate",depth:4},{value:"Legacy support",depth:4},{value:"Uport Credentials (formerly Uport JS)",depth:2},{value:"What's new in 1.0?",depth:4},{value:"New static method ",depth:4},{value:" -> ",depth:4},{value:"New method ",depth:4},{value:" -> ",depth:4},{value:", ",depth:4},{value:"New method ",depth:4},{value:" -> ",depth:4},{value:"New method ",depth:4},{value:" -> ",depth:4},{value:" -> ",depth:4},{value:"What's New in Version uport@0.6.5 (minor release)",depth:3},{value:"Steps to migrate",depth:5},{value:"Legacy support",depth:5}],frontmatter:{category:"releases",type:"overview",index:1}}},{node:{fields:{slug:"/overview/transactions"},headings:[{value:"Requesting Transactions",depth:1},{value:"Send Users An Ethereum Transaction Request",depth:2}],frontmatter:{category:"Requesting Transactions",type:"orientation",index:5}}},{node:{fields:{slug:"/rest-apis/fuel-server"},headings:[{value:"Transaction Fueling Server",depth:1},{value:"API Description",depth:2},{value:"Fuel Token",depth:3},{value:"Fund address",depth:3},{value:"Endpoint",depth:4},{value:"Header",depth:4},{value:"Body",depth:4},{value:"Response",depth:4},{value:"Response data",depth:4}],frontmatter:{category:"apis",type:"reference",index:null}}},{node:{fields:{slug:"/rest-apis/relay-server"},headings:[{value:"Meta Transaction Relaying Server",depth:1},{value:"API Description",depth:2},{value:"Fuel Token",depth:3},{value:"MetaSignedTx",depth:3},{value:"Endpoint",depth:4},{value:"Header",depth:4},{value:"Body",depth:4},{value:"Response",depth:4},{value:"Response data",depth:4}],frontmatter:{category:"apis",type:"reference",index:null}}},{node:{fields:{slug:"/pki/diddocument"},headings:[{value:"Decentralized Identity Document (DID Document)",depth:1},{value:"Contents",depth:2},{value:"Parameters",depth:3}],frontmatter:{category:"pki",type:"reference",index:null}}},{node:{fields:{slug:"/pki/identitydocument"},headings:[{value:"Identity Document (DEPRECATED)",depth:1},{value:"Contents",depth:2},{value:"Parameters",depth:3},{value:"Resolving the Public Key for ",depth:3},{value:"Resolving the Public Encryption Key for ",depth:3},{value:"Registering an Identity Document",depth:2},{value:"External Accounts (Key Pairs)",depth:3},{value:"Smart Contract Accounts",depth:3},{value:"uPort Mobile App Created Identities",depth:3}],frontmatter:{category:"pki",type:"reference",index:null}}},{node:{fields:{slug:"/pki/index"},headings:[{value:"uPort PKI",depth:1},{value:"Purpose",depth:2},{value:"Creating and Verifying a JWT",depth:2},{value:"Identity Document",depth:2},{value:"Verifying a signature",depth:2}],frontmatter:{category:"pki",type:"reference",index:null}}},{node:{fields:{slug:"/messages/signtypeddataresp"},headings:[{value:"Signed Typed Data Response",depth:1},{value:"Attributes",depth:1}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/transports/index"},headings:[{value:"Request/Response Transports",depth:1},{value:"Requests",depth:2},{value:"Open URL",depth:3},{value:"QR Code",depth:3},{value:"Push Notifications",depth:3},{value:"Responses",depth:2},{value:"Redirect callback type",depth:3},{value:"HTTP post callback type",depth:3},{value:"Examples",depth:2},{value:"Mobile Browser Transport",depth:3},{value:"Desktop Browser Serverless Transport",depth:3},{value:"Desktop Browser Server Backed Transport",depth:3},{value:"Push Notification Transport",depth:3}],frontmatter:{category:"transports",type:"reference",index:null}}},{node:{fields:{slug:"/messages/tx"},headings:[{value:"Ethereum Transaction Request",depth:1},{value:"Signed Transaction Request",depth:2},{value:"Attributes",depth:3},{value:"ERC 67 Unsigned Transaction Request",depth:2},{value:"Attributes",depth:3},{value:"Addresses and Network selection",depth:2},{value:"Transaction Request Validity",depth:2},{value:"ETH Value Transfer",depth:3},{value:"ETH Value Transfer",depth:3},{value:"Ethereum Smart Contract creation",depth:3},{value:"Client Callback",depth:2}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/messages/signtypeddatareq"},headings:[{value:"Sign Typed Data Request",depth:1},{value:"Attributes",depth:4}],frontmatter:{category:"messages",type:"reference",index:null}}},{node:{fields:{slug:"/transports/push"},headings:[{value:"Push Notification Transport",depth:1},{value:"Proper encoding of the request",depth:3},{value:"Sending the request",depth:2},{value:"Push notification server",depth:3},{value:"Endpoint",depth:4},{value:"Headers",depth:4},{value:"Body",depth:4},{value:"Response",depth:4},{value:"Response data",depth:4}],frontmatter:{category:"transports",type:"reference",index:null}}},{node:{fields:{slug:"/uport-connect/index"},headings:[{value:"uPort Connect",depth:1},{value:"Instantly Connect Users to Your dApp",depth:3}],frontmatter:{category:"uport-connect",type:"landing",index:0}}},{node:{fields:{slug:"/uport-credentials/index"},headings:[{value:"uPort Credentials",depth:1},{value:"Create & Request Attested Data",depth:2}],frontmatter:{category:"uport-credentials",type:"landing",index:0}}},{node:{fields:{slug:"/uport-transports/index"},headings:[{value:"uPort Transports",depth:1},{value:"Connect Users to a uPort Client",depth:3}],frontmatter:{category:"uport-transports",type:"landing",index:0}}},{node:{fields:{slug:"/did-jwt/guides/index"},headings:[{value:"Working with did-JWT's",depth:1},{value:"Creating a JWT",depth:2},{value:"Parameters",depth:4},{value:"Promise Return Value",depth:4},{value:"Verifying a JWT",depth:2},{value:"Parameters",depth:4},{value:"Promise Return Value",depth:4},{value:"Signer Functions",depth:2},{value:"SimpleSigner",depth:3},{value:"Parameters",depth:4},{value:"Creating Custom Signers for integrating with HSM",depth:3},{value:"Parameters",depth:4},{value:"Promise Return Value",depth:4}],frontmatter:{category:"did-jwt",type:"guide",index:4}}},{node:{fields:{slug:"/ethr-did/docs/index"},headings:[{value:"Ethr-DID",depth:1},{value:"A Scalable Identity Method for Ethereum Addresses",depth:2}],frontmatter:{category:"ethr-did",type:"landingPage",index:0}}},{node:{fields:{slug:"/did-jwt/reference/index"},headings:[{value:"Algorithms supported",depth:2},{value:"DID PublicKey Types",depth:2},{value:"Claims",depth:2},{value:"Modules",depth:2},{value:"Functions",depth:2},{value:"did-jwt/JWT",depth:2},{value:"did-jwt/JWT.decodeJWT(jwt) ⇒ ",depth:3},{value:"did-jwt/JWT.createJWT(payload, ",depth:3},{value:"did-jwt/JWT.verifyJWT(jwt, ",depth:3},{value:"did-jwt/JWT.resolveAuthenticator(alg, did, auth) ⇒ ",depth:3},{value:"SimpleSigner(hexPrivateKey) ⇒ ",depth:2}],frontmatter:{category:"did-jwt",type:"reference",index:3}}},{node:{fields:{slug:"/muport-core-js/guides/simple-id"},headings:[{value:"Simple ID (muPort)",depth:1},{value:"Onboarding/Signup",depth:2},{value:"Interacting with a service",depth:2},{value:"Setting up recovery network",depth:2},{value:"Using the recovery network",depth:2},{value:"Updating the encrypted recovery shards",depth:2}],frontmatter:{category:"muport",type:"guides",index:null}}},{node:{fields:{slug:"/uport-connect/guides/usage"},headings:[{value:" Connect Library Guide",depth:1},{value:" Messages",depth:2},{value:" Communication and Transports",depth:2},{value:"Default QR Flow",depth:3},{value:" Default Mobile Requests",depth:3},{value:" Push Notification Requests",depth:3},{value:"Transports Configuration",depth:3},{value:" Combining Both Flows",depth:2},{value:" Ethereum Interactions and Transactions",depth:2},{value:" uPort Requests",depth:3},{value:" Using With a Provider (Web3)",depth:3}],frontmatter:{category:"uport-connect",type:"guide",index:null}}},{node:{fields:{slug:"/uport-connect/reference/index"},headings:[{value:"Classes",depth:2},{value:"Connect",depth:2},{value:"new Connect(appName, ",depth:3},{value:"connect.getProvider(",depth:3},{value:"connect.onResponse(id, cb) ⇒ ",depth:3},{value:"connect.pubResponse(response)",depth:3},{value:"connect.send(request, id, ",depth:3},{value:"connect.contract(abi) ⇒ ",depth:3},{value:"connect.sendTransaction(txObj, ",depth:3},{value:"connect.requestVerificationSignature(unsignedClaim, sub, ",depth:3},{value:"connect.requestDisclosure(",depth:3},{value:"connect.sendVerification(",depth:3},{value:"connect.setState(Update)",depth:3},{value:"connect.loadState()",depth:3},{value:"connect.logout()",depth:3},{value:"connect.reset()",depth:3},{value:"UportSubprovider",depth:2},{value:"new UportSubprovider(args)",depth:3}],frontmatter:{category:"uport-connect",type:"reference",index:10}}},{node:{fields:{slug:"/uport-transports/guides/modules"},headings:[{value:" uPort Transports Guide",depth:1},{value:"Request Transports",depth:2},{value:"Response Transports",depth:2},{value:" Quick Start",depth:2}],frontmatter:{category:"uport-transports",type:"guide",index:1}}},{node:{fields:{slug:"/uport-credentials/reference/index"},headings:[{value:"Credentials",depth:2},{value:"new Credentials(",depth:3},{value:"credentials.createDisclosureRequest(",depth:3},{value:"credentials.createVerification(",depth:3},{value:"credentials.createVerificationSignatureRequest(unsignedClaim, ",depth:3},{value:"credentials.createTxRequest(txObj, ",depth:3},{value:"credentials.createDisclosureResponse(",depth:3},{value:"credentials.processDisclosurePayload(response)",depth:3},{value:"credentials.authenticateDisclosureResponse(token, ",depth:3},{value:"credentials.verifyDisclosure(token) ⇒ ",depth:3},{value:"credentials.contract(abi) ⇒ ",depth:3},{value:"Credentials.createIdentity() ⇒ ",depth:3}],frontmatter:{category:"uport-credentials",type:"reference",index:10}}},{node:{fields:{slug:"/uport-credentials/guides/index"},headings:[{value:"Getting Started",depth:1},{value:"Configure Your Application",depth:2},{value:"Generate an Ethereum Keypair",depth:2},{value:"Requesting Information From Your Users",depth:2},{value:"Stateless Challenge/ Response",depth:3},{value:"Requesting Push Notification Tokens From Your Users",depth:3},{value:"Attesting Information About Your Users",depth:2},{value:"Creating an Attestation",depth:3},{value:"Asking Users to Sign Ethereum Transactions",depth:2}],frontmatter:{category:"uport-credentials",type:"content",index:null}}},{node:{fields:{slug:"/uport-credentials/guides/tutorial"},headings:[{value:"Create an Identity",depth:2},{value:"Create Verification Service",depth:2},{value:"Request Verification Service",depth:2}],frontmatter:{category:"uport-credentials",type:"content",index:null}}},{node:{fields:{slug:"/ethr-did/docs/reference/index"},headings:[{value:"Introduction",depth:2},{value:"DID Method",depth:2},{value:"Configuration",depth:2}],frontmatter:{category:"ethr-did",type:"reference",index:10}}},{node:{fields:{slug:"/uport-transports/reference/index"},headings:[{value:"Modules",depth:2},{value:"Constants",depth:2},{value:"Functions",depth:2},{value:"uport-transports/transport/ui",depth:3},{value:"uport-transports/transport/ui~getImageDataURI(data) ⇒ ",depth:3},{value:"uport-transports/transport/ui~close()",depth:3},{value:"uport-transports/transport/ui~makeModal(content, ",depth:3},{value:"uport-transports/transport/ui~open(data, cancel, modalText)",depth:3},{value:"uport-transports/transport/ui~notifyPushSent(fallback)",depth:3},{value:"uport-transports/transport/ui~success()",depth:3},{value:"uport-transports/transport/ui~failure(resend)",depth:3},{value:"uportModal ⇒ ",depth:3},{value:"qrModal ⇒ ",depth:3},{value:"pushModal",depth:3},{value:"successModal",depth:3},{value:"failureModal",depth:3},{value:"randomString(length) ⇒ ",depth:3},{value:"decryptResponse(encrypted, secretKey) ⇒ ",depth:3},{value:"URIHandlerSend(uriHandler, ",depth:3},{value:"poll(url, ",depth:3},{value:"poll(url, messageParse, errorParse, ",depth:3},{value:"send(token, pubEncKey, ",depth:3},{value:"sendAndNotify()",depth:3},{value:"send(displayText, message, ",depth:3},{value:"chasquiCompress(message, threshold) ⇒ ",depth:3},{value:"chasquiSend(",depth:3},{value:"send(",depth:3},{value:"getResponse() ⇒ ",depth:3},{value:"listenResponse(cb)",depth:3},{value:"onResponse() ⇒ ",depth:3},{value:"parseResponse() ⇒ ",depth:3},{value:"paramsToUrlFragment(url, ",depth:3},{value:"paramsToQueryString(url, ",depth:3},{value:"getUrlQueryParams(url) ⇒ ",depth:3},{value:"getURLJWT(url) ⇒ ",depth:3},{value:"isJWT(jwt) ⇒ ",depth:3},{value:"messageToUniversalURI(message) ⇒ ",depth:3},{value:"messageToDeeplinkURI(message, uri)",depth:3},{value:"messageToURI(message, type)",depth:3}],frontmatter:{category:"uport-transports",type:"reference",index:10}}},{node:{fields:{slug:"/ethr-did/docs/guides/index"},headings:[{value:"Getting Started",depth:1},{value:"Construct a New Identity",depth:2},{value:"Create Ethr-DID",depth:3},{value:"Use Existing Web3 Provider",depth:4},{value:"Ethereum Web3 Wallet Developers",depth:4},{value:"Exchange Verifiable Data",depth:2},{value:"Signing a JWT",depth:3},{value:"Verifying a JWT",depth:3},{value:"Manage Keys",depth:2},{value:"The Concept of Identity Ownership",depth:3},{value:"Changing an Owner",depth:3},{value:"Adding a Delegate Signer",depth:3},{value:"Set Public Attributes",depth:2}],frontmatter:{category:"ethr-did",type:"guide",index:1}}}]},announcement:{totalCount:1,edges:[{node:{frontmatter:{announcement:"New Major Releases with Breaking Changes!  See https://developer.uport.me/releases for more info.",announcementType:"negative"}}}]}},pathContext:{category:"messages",slug:"/messages/encryption"}}}});
//# sourceMappingURL=path---messages-encryption-39fe5d352fc11050844b.js.map